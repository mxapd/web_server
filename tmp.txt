fn main() {
    server::start_server("127.0.0.1:2323");
}
use std::net::TcpListener;
use std::thread;

use actors::postgres_actor::PostgresActor;

pub fn start_server(host: &str) -> std::io::Result<()> {
    let listener = TcpListener::bind(host)?;
    let db_actor = postgres::PostgresActor::new();

    for stream in listener.incoming() {
        thread::spawn(move || {
            let actor = RequestActor::new(stream.unwrap());
            actor.run().unwrap();
        });
    }

    Ok(())
}
